# GenAI-2-19 — Генерация кода с проверкой синтаксиса

## Цель работы
Реализовать генерацию Python-кода на основе текстового запроса с использованием модели искусственного интеллекта, проверить синтаксическую корректность сгенерированного кода и выполнить его в изолированной среде.  

---

## Краткое описание
Модуль использует предобученную модель [Salesforce/codegen-350M-mono](https://huggingface.co/Salesforce/codegen-350M-mono) из библиотеки `transformers`.  
Модель принимает текстовый промпт (например, «напиши функцию, которая считает факториал») и генерирует соответствующий Python-код.  

Далее код проходит два уровня проверки:
1. Синтаксический анализ — модуль `ast` проверяет, что код компилируется без `SyntaxError`.
2. Исполнение — код выполняется через `exec()` в блоке `try-except`, чтобы убедиться, что он действительно работает.


---

## Запуск проекта
```bash
python3 tests.py
```
---

## Пример работы
```
---------------- Начало тестов ----------------

промпт: напиши функцию, которая выводит 'hello, world'
код успешно выполнен

промпт: напиши функцию, которая считает факториал
код успешно выполнен

промпт: напиши функцию, которая проверяет число на простоту
код успешно выполнен

---------------- Все тесты пройдены успешно ----------------
```

---

## Принцип работы
1. Пользователь задает текстовый запрос (prompt).
2. Модель CodeGen генерирует продолжение текста в виде Python-кода.
3. Функция `test_code_syntax()` проверяет код через `ast.parse`.
4. Функция `test_exec()` выполняет код в `exec()` и отслеживает исключения.
5. При успешной генерации выводится результат, код считается корректным.

---

## Зависимости
- Python ≥ 3.9  
- torch  
- transformers  
- ast (встроенный модуль Python)
